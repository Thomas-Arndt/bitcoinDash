<!DOCTYPE html>
<html>
    <head>
        <title>bitcoinDash</title>
    </head>
    <body>

        <style type="text/css">
            *{
                background-color: rgb(15,15,15);
                margin: 0px;
                padding: 0px;
                position: fixed;
            }
            #window{
                width: 100%;
                height: 100%;
                display: flex;
                flex-direction: column;
            }
            #header{
                width: auto;
                height: 50px;
                display: flex;
                flex-direction: row;
                justify-content: left;
                position: relative;
                gap: 10px;
            }
            #title{
                width: fit-content;
                height: 50px;
                color: whitesmoke;
                position: relative;
                font-size: 32px;
            }
            #author{
                width: fit-content;
                height: 43px;
                color: whitesmoke;
                position: relative;
                top: 15px;
            }
            #dashboard{
                width: auto;
                height: 32px;
                display: flex;
                flex-direction: column;
                position: relative;
                }
            .categoryHeader{
                color: whitesmoke;
                position: relative;
                width: 25%;
                height: auto;
                font-size: 16px;
                border: 1px solid whitesmoke;
            }
            .categoryData{
                display: flex;
                flex-direction: column;
                width: 25%;
                height: fit-content;
                position: relative;
                text-align: right;
                border: 1px solid whitesmoke;

            }
            .dataRow{
                display: flex;
                flex-direction: row;
                width: 100%;
                height: fit-content;
                position: relative;
            }
            .dataLabel{
                width: fit-content;
                height: fit-content;
                color: whitesmoke;
                position: relative;
                font-size: 14px;
            }
            .dataCell{
                width: 100%;
                height: fit-content;
                color: whitesmoke;
                position: relative;
                font-size: 14px;
                text-align: right;
            }
        </style>




        <div id=window>
            <div id="header">
                <div id="title">bitcoinDash |</div>
                <div id="author">thomasArndt</div>
            </div>
            <div id="dashboard">
                <div class="categoryHeader">currentMarket</div>
                <div class="categoryData">    
                    <div class="dataRow">
                        <div class="dataLabel">price</div>
                        <div class="dataCell" id="price"></div>
                    </div>
                    <div class="dataRow">
                        <div class="dataLabel">change</div>
                        <div class="dataCell" id="change"></div>
                    </div>
                </div>
            </div>
        </div>




        <script type="text/javascript">
            const CRYPTONATOR_API = 'https://api.cryptonator.com/api/ticker/btc-usd';

            const CRYPTONATOR_REQUEST_HEADERS = {
                base: 'base',
                target: 'target',
                volume: 'volume',
                price: 'price',
                change: 'change',
                timestamp: 'timestamp',
                success: 'success',
                error: 'error'
            }

            function roundTo(number, place){
                var multiplier = Math.pow(10, place);
                return Math.round(number*multiplier)/multiplier;
            }

            fetch(CRYPTONATOR_API)
                .then( response => response.json() )
                .then( response => {
                    console.log(response);
                    var price = roundTo(response.ticker.price, 2);
                    document.getElementById("price").innerHTML = "$"+ price;
                    var change = roundTo(response.ticker.change, 2);
                    document.getElementById("change").innerHTML = "$"+ change;
                    if(change < 0){
                        document.getElementById("change").style.color = "red";
                    }
                });

        </script>

    </body>
</html>